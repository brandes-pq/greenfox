<?xml version="1.0" encoding="UTF-8"?>
<!-- 
    Goal: files 'errors.xml' and 'errorsDetails.xml' either occur both, or not at all.
-->
<greenfox greenfoxURI="http://www.greenfox.org/ns/schema-examples/oxygen/check-catalog"
          xmlns="http://www.greenfox.org/ns/schema">

    <context>
        <field name="domain"/>
    </context>
    
    <domain path="${domain}" name="greenfox-example-data">
        <folder foxpath="fileExistenceDependencies" id="fileExistenceDependenciesFolderShape">
            <targetSize countMsg="Missing folder: fileExistenceDependencies" count="1"/>
   
            <!-- Ensure that 'errorsDetails.xml' does not occur without 'errors.xml' -->
            <foxpath expr=".\\errorsDetails.xml[not(..\errors.xml)]"
                     empty="true"
                     emptyMsg="File errorsDetails.xml must not occur without sibling errors.xml"/>
            
            <file foxpath=".\\errors.xml" id="errorsFileShape">
                ...
                <file foxpath="..\errorsDetails.xml">
                   <targetSize countMsg="Missing errorsDetails.xml" 
                               count="1"/>
                   ...
                </file>
            </file>
        </folder>
    </domain>

</greenfox>
