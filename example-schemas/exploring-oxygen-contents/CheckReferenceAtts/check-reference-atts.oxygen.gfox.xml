<?xml version="1.0" encoding="UTF-8"?>
<!-- Example demonstrating use of several ExprValue* constraints:
        * ExprValueEq
        * ExprValueEqXPath
        * ExprValueItemsUnique
        
        TIP.
        To test this schema, you would need an Oxygen installation and adapt the
        file path as well as (probably) details of the folder contents.
-->        
    
<greenfox greenfoxURI="http://www.greenfox.org/ns/schema-examples/oxygen/check-reference-atts"
          xmlns="http://www.greenfox.org/ns/schema">

    <!-- *** External context *** -->
    <context>
        <field name="domain" value="/programme/Oxygen XML Editor 19"/>
    </context>    
    
    <!-- File system tree = Oxygen installation -->
    <domain path="\programme\Oxygen XML Editor 19" name="oxygen19">    
        
        <!-- *** schematron files *** -->
        <file foxpath=".\\*.sch" id="schematronFileShape">
            <targetSize msg="Too few schematron files" minCount="80"/>
            <xpath expr="/*/@queryBinding"
                   eq="xslt2"
                   eqMsg="Query binding must be xslt2"/>
            <xpath expr="//@diagnostics"
                   eqXPath="//*:diagnostics/*:diagnostic/@id"
                   eqXPathMsg="Diagnostics pointer unresolvable"/>
            <xpath expr="//@id"
                   itemsUnique="true"
                   itemsUniqueMsg="Id's not unique"/>
        </file>
    </domain>    
</greenfox>
