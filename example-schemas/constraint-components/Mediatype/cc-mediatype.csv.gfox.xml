<?xml version="1.0" encoding="UTF-8"?>
<!-- 
    Demonstrates the use of Mediatype constraints. Supported values for mediatypes are: xml, json, csv.
    
    In this example, a CSV file is checked. Besides checking the mediatype, the following constraints
    are checked: #columns = 4; #rows >= 2 and <= 30. 
    
    Note attributes @csv.minColumnCount, @csv.maxColumnCount, @csv.minRowCount, @csv.maxRowCount.
-->    
<greenfox greenfoxURI="http://www.greenfox.org/ns/schema-examples/demo-constraint-component/mediatype"
          xmlns="http://www.greenfox.org/ns/schema">

    <context>
        <field name="domain" value="${schemaPath}\..\..\..\..\example-data"/>
    </context>
    
    <domain path="${domain}" name="greenfox-example-data">
        <folder foxpath="csv" id="csvFolderShape">
            <targetSize countMsg="Missing folder: csv" count="1"/>            
            <file foxpath="simple-csv.csv" id="simpleCsvFileShape">
                <mediatype eq="csv" csv.minColumnCount="4" csv.maxColumnCount="4" 
                                    csv.minRowCount="2" csv.maxRowCount="30"/>
            </file>
        </folder>
    </domain>

</greenfox>
