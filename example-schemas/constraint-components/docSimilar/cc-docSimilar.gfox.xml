<?xml version="1.0" encoding="UTF-8"?>
<!-- 
    Demonstrates the use of constraint component DocSimilar.
    
    Constraint components:
    * Name:  DocSimilar
    - XML:   docSimilar/@otherFoxpath specifies the other document with which to compare
    - Check: The current file must be represented by a node tree which is equal to the node tree
             representing the file identified by the Foxpath expression, taking into
             consideration exceptions defined by child elements <skipItem> and <roundItem>.
    
    When comparing node trees, items identified by a <skipItem> element are ignored, and the text
    value of items identified by a <roundItem> element is replaced with a rounded value.
    Items are identified by the following selectors, all of which are optional:
    * item kind - @kind, 'element' or 'attribute'
    * local name - @local name
    * namespace - @namespace
    * parent local name - @parentLocalName
    * parent namespace - @parentNamespace
    
    In this example, validation catches 
    * an 'executionSummary1.xml' file not doc-similar to a sibling file 'executionSummary2.xml', ignoring
      'articleNumber' and 'timestamp' elements and @fileSize attributes on 'articleBook' elements.
-->
<greenfox greenfoxURI="http://www.greenfox.org/ns/schema-examples/demo-constraint-component/doc.similar"
          xmlns="http://www.greenfox.org/ns/schema">

    <context>
        <field name="domain" value="${schemaPath}\..\..\..\..\example-data"/>
    </context>
    
    <domain path="${domain}" name="greenfox-example-data">
        <folder foxpath="docSimilar" id="docSimilarFolderShape">
            <targetSize countMsg="Missing folder: DocSimilar" count="1"/>            
            <file foxpath="executionSummary1.xml" id="executionSummary1FileShape">
                <targetSize countMsg="Missing file: executionSummary1.xml" count="1"/>
                <docSimilar otherFoxpath="..\executionSummary2.xml">
                    <skipItem kind="element" localName="articleNumber"/>
                    <skipItem kind="element" localName="timestamp"/>
                    <skipItem kind="attribute" localName="fileSize" parentLocalName="articleBook"/>
                </docSimilar>
            </file>
        </folder>
    </domain>

</greenfox>
