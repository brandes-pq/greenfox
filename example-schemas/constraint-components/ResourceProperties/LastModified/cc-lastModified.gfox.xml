<?xml version="1.0" encoding="UTF-8"?>
<!-- 
    Demonstrates the use of constraint components LastModifiedXY.
    
    Constraint components: 
    * Name:  LastModifiedLe
    - XML:   lastModified/@le
    - Check: The date or date-time of last modification must be less than or equal to the specified limit
    
    * Name:  LastModifiedGt
    - XML:   lastModified/@gt
    - Check: The date or date-time of last modification must be greater than the specified limit
    
    * Name:  LastModifiedMatches 
    - XML:   lastModified/@matches
    - Check: The date or date-time of last modification must match the given regular expression
    
    * Name:  LastModifiedNotMatches
    - XML:   lastModifiedNotMatches
    - Check: The date or date-time of last modification must not match the given regular expression
        
    In this example, validation catches files modified ...
    * before 2020-02-08
    * on or after 2020-03-01
    * not between 09:00 and 21:00
    * between 00:00 and 03:00
    
    Note optional further parameters (@flags not used in the example):
    : @case - if 'true', the date-time is compared case-sensitively; default: 'false'
    * @flags - regex flags, used in @like, @notLike, @matches, @notMatches; default: ''
    
    The complete set of constraint components related to the date-time of last modification is:
    * LastModifiedGt - lastModified/@gt
    * LastModifiedGe - lastModified/@ge    
    * LastModifiedLt - lastModified/@lt
    * LastModifiedLe - lastModified/@le             
    * LastModifiedEq - lastModified/@eq
    * LastModifiedLike - lastModified/@like   
    * LastModifiedNotLike - lastModified/@notLike
    * LastModifiedMatches - lastModified/@matches   
    * LastModifiedNotMatches - lastModified/@notMatches
-->
<greenfox greenfoxURI="http://www.greenfox.org/ns/schema-examples/demo-constraint-component/last.modified"
          xmlns="http://www.greenfox.org/ns/schema">

    <context>
        <field name="domain" value="${schemaPath}\..\..\..\..\..\example-data"/>
    </context>
    
    <domain path="${domain}" name="greenfox-example-data">
        <folder foxpath="airports" id="airportsFolderShape">
            <targetSize countMsg="Missing folder: airports" count="1"/>            
            <file foxpath=".\\*" id="anyFileShape">
                <lastModified le="2020-03-01" 
                              leMsg="Files must be older than 2020-02-08"
                              gt="2020-02-08"
                              gtMsg="Files must be from 2020-02-10 or later"
                              matches="^.*T(09|10|11|12|13|14|15|16|17|18|19|20).*$" 
                              matchesMsg="Files must be modified between 09:00 and 21:00"
                              notMatches="^.*T0[0-2].*"
                              notMatchesMsg="Files must not be modified between 00:00 and 03:00"/>                
            </file>
        </folder>
    </domain>

</greenfox>
