<?xml version="1.0" encoding="UTF-8"?>
<!-- 
    Demonstrates the use of ValuePair constraints: declares a ValuePairGe contraint. As the
    constraint is descendant of a 'focusNode', the expressions are evaluated in the context
    of the focus node.
-->
<greenfox greenfoxURI="http://www.greenfox.org/ns/schema-examples/demo-constraint-component/value-pair.focus-node"
          xmlns="http://www.greenfox.org/ns/schema">

    <context>
        <field name="domain" value="${schemaPath}\..\..\..\..\example-data"/>
    </context>

    <domain path="${domain}" name="greenfox-example-data">
        <folder foxpath="projectDates" id="projectDatesFolderShape">
            <targetSize countMsg="Missing folder: projectDates" count="1"/>            
            <file foxpath="projectDates.xml" id="projectDatesShape">
                <focusNode xpath="//project">
                    <valuePairs>
                        <valuePair expr1XP="@endDate" minCount1="0" 
                                   expr2XP="@startDate" count2="1"                                    
                                   cmp="ge" geMsg="Project end date must be greater or equal project start date"/>                        
                        <valuePair expr1XP="milestone/@date" minCount1="0" 
                                   expr2XP="@startDate" count2="1" 
                                   cmp="ge" geMsg="Milestone date must be greater or equal project start date"/>
                        <valuePair expr1XP="milestone/@date" minCount1="0" 
                                   expr2XP="@endDate" minCount2="0" 
                                   cmp="le" leMsg="Milestone date must be less or equal project end date"/>
                    </valuePairs>
                </focusNode>
              </file>
        </folder>
    </domain>

</greenfox>
