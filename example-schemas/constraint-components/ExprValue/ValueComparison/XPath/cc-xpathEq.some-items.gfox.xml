<?xml version="1.0" encoding="UTF-8"?>
<!-- 
    Demonstrates the use of constraint component ExprValueEq, using an XPath expression.
    An additional ExprValueMinCount constraint ensures that successful validation is
    not possible without evaluation of the ExprValueEq constraint.
    
    The schema checks that at a given datapath at least one item contains a given string.
    
    This example uses a quantifier (@quant) with a value 'some'. Successful validation therefore 
    only requires at least one value item to satisfy the condition.
    
    Constraint components:
    * Name:  ExprValueEq 
    - XML:   xpath/(@expr, @eq) 
    - Check: Every item of the expression value must be equal to the value given by @eq.
    
    * Name:  ExprValueMinCount 
    - XML:   xpath/(@expr, @minCount) 
    - Check: The number of value items must be at least the number specified by @minCount.
-->
<greenfox greenfoxURI="http://www.greenfox.org/ns/schema-examples/demo-constraint-component/xpath-value-eq.some-items"
          xmlns="http://www.greenfox.org/ns/schema">

    <context>
        <field name="domain" value="${schemaPath}\..\..\..\..\..\..\example-data"/>
    </context>
    
    <domain path="${domain}" name="greenfox-example-data">
        <folder foxpath="airports" id="airportsFolderShape">
            <targetSize countMsg="Missing folder: airports" count="1"/>            
            <file foxpath="airports-denmark.xml" id="airportsFileShape">
                <targetSize countMsg="Missing file: airports-denmark.xml" count="1"/>
                <xpath expr="//airport/temporal/timezone"
                       eq="2"
                       quant="some"
                       eqMsg="There should also be an airport with timezone 2"
                       minCount="14"
                       minCountMsg="Should contain at least 14 airport descriptions"/>
            </file>
        </folder>
    </domain>

</greenfox>

