<?xml version="1.0" encoding="UTF-8"?>
<!-- 
    Demonstrates the use of constraint component FolderSimilar.
    
    Constraint components:
    * Name:  FolderSimilar
    - XML:   folderSimilar/(@otherFoxpath, skipFiles*, skipFolders*)
    - Check: The current folder contains the same folders and files as other folder(s) selected by the
             Foxpath expression, taking into consideration exceptions defined by child elements <skipFiles>
             and <skipFolders>.
             
    * Name:  FolderSimilarCount
    - XML:   folderSimilar/@count
    - Check: The number of folders with which to compare must be equal to the specified value
             
    * Name:  FolderSimilarMinCount
    - XML:   folderSimilar/@minCount
    - Check: The number of folders with which to compare must be greater than or equal to the specified value
             
    * Name:  FolderSimilarMaxCount
    - XML:   folderSimilar/@maxCount
    - Check: The number of folders with which to compare must be less than or equal to the specified value

    When attributes @count, @minCount or @maxCount are used, they constrain the number of folders selected
    by the Foxpath expression. By default, the expression must select exactly one folder.
    
    When comparing folders, files and sub folders found in only one of the two folders compared are ignored 
    if they match the names or name patterns specified by <skipFiles>/@names or <skipFolders>/@names, 
    respectively.
    
    In this example, validation catches an 'airports' folder containing files or folders not contained by the
    'airports-copy' folder, ignoring 'airport-max.*' files and a folder 'user-extensions2'.
-->
<greenfox greenfoxURI="http://www.greenfox.org/ns/schema-examples/demo-constraint-component/folder.similar"
          xmlns="http://www.greenfox.org/ns/schema">

    <context>
        <field name="domain" value="${schemaPath}\..\..\..\..\example-data"/>
    </context>
    
    <domain path="${domain}" name="greenfox-example-data">
        <folder foxpath="airports" id="airportsFolderShape">
            <targetSize countMsg="Missing folder: airports" count="1"/>
            <folderSimilar otherFoxpath="..\airports-copy">
                <skipFiles names="airport-max.*"/>
                <skipFolders names="user-extensions2"/>
            </folderSimilar>
        </folder>                
    </domain>

</greenfox>
