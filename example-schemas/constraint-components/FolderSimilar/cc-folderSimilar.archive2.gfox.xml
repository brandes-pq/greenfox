<?xml version="1.0" encoding="UTF-8"?>
<!-- 
    Demonstrates the use of a FolderSimilar constraint. This example checks resources
    contained by an archive file. In particular, the domain folder itself is contained
    by an archive, and the folder with which to compare is contained by an archive
    in turn contained by an archive. 
    
    See example 'cc-folderSimilar.gfox.xml' for more information about DocSimilar constraints.
-->
<greenfox greenfoxURI="http://www.greenfox.org/ns/schema-examples/demo-constraint-component/folder-similar/archive2"
          xmlns="http://www.greenfox.org/ns/schema">

    <context>
        <!-- The domain is contained by an archive -->
        <field name="domain" value="${schemaPath}\..\..\..\..\example-data-archive\example-data.zip\#archive#\example-data"/>
    </context>
    
    <linkDef name="airports"
             foxpath="ancestor~::archives\airports-copy.zip\#archive#\airports-copy"/>
    
    <domain path="${domain}" name="greenfox-example-data">
        <folder foxpath="archives\airports.zip\#archive#\airports" id="airportsFolderShape">
            <targetSize countMsg="Missing folder: airports" count="1"/>
            <folderSimilar linkName="airports" count="1">
                <skipFiles names="airport-max.*" where="here"/>
                <skipFolders names="user-extensions*" where="there"/>
            </folderSimilar>
        </folder>                
    </domain>

</greenfox>
