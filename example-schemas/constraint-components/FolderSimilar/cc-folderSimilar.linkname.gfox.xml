<?xml version="1.0" encoding="UTF-8"?>
<!-- 
    Demonstrates the use of a FolderSimilar constraint. The folders with which to compare
    ("target folders") the focus resource folder are specified by a link definition - for 
    example, by a Foxpath expression.
    
    Supplementary constraints: attributes @count, @minCount and @maxCount constrain the number of 
    target folders.
    
    When comparing folders, files and sub folders found in only one of the two folders being
    compared are ignored if they match a name pattern from the name patterns specified by 
    <skipFiles>/@names or <skipFolders>/@names, respectively. Any number of <skipFiles> and 
    <skipFolders> elements is allowed. They may have a @where attribute with possible values 
    'here' and 'there': if 'here', the matching files or folders are only ignored if occurring 
    in the focus resource folder ('here') or in the target folder ('there').
    
    In this example, any files *.sav.* are ignored, and any *.sav folders are ignored if occurring 
    in the target folder.
-->
<greenfox greenfoxURI="http://www.greenfox.org/ns/schema-examples/demo-constraint-component/folder.similar"
          xmlns="http://www.greenfox.org/ns/schema">

    <context>
        <field name="domain" value="${schemaPath}\..\..\..\..\example-data"/>
    </context>
    <!--
    <linkDef name="copyFolder"
             foxpath="fox-sibling(concat($fileName, '-copy'))"/>
    -->
    <linkDef name="copyFolder"
             foxpath="..\airports-copy"/>
    <domain path="${domain}" name="greenfox-example-data">
        <folder foxpath="airports" id="airportsFolderShape">
            <targetSize countMsg="Missing folder: airports" count="1"/>
            <folderSimilar linkName="copyFolder" count="1">
                <skipFiles names="*.sav.*"/>
                <skipFolders names="*.sav" where="there"/>
            </folderSimilar>
        </folder>                
    </domain>

</greenfox>
