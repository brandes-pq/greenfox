<?xml version="1.0" encoding="UTF-8"?>
<greenFox xmlns="http://www.greenfox.org/ns/schema" greenfoxURI="http://www.greenfox.org/ns/schema-examples">
    <context>
        <field name="revision" value="12"/>
    </context>
    
    <domain path="\projects\sap\projects\odata" label="main">
        <folder foxpath="services" count="1">
            
            
            <file foxpath="*.edmx[//*:ComplexType]" count="23">
                
                <!-- *** Constraint:
                     Kind:      xpath
                     Semantics: ComplexType must not be referenced by attributes except for @ReturnType 
                 -->                
                <xpath eq="ReturnType" expr="
(for $ctypeName in //*:ComplexType/@Name => distinct-values()
 return //(* except *:ComplexType)/@*[matches(., '^(.*\.)?' || $ctypeName || '$')]/local-name(.)
) => distinct-values() => sort()" 
                />

                <!-- *** Constraint:
                     Kind:      xpath
                     Semantics: @Type on <Property> has a value starting with 'Edm.' 
                 -->                
                <xpath count="0" 
                       expr="//*:Property/@Type[not(starts-with(., 'Edm.'))] => distinct-values() => sort()"
                />
                
            </file>
        </folder>
    </domain>
</greenFox>
